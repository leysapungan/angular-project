
<div class="container">
    <div class="row">
        <div class="col">
            <h2>Check List</h2>
            <!-- Task<br><input type="text" [(ngModel)]="taskForm.name" [value]="inputTask" required><br><br>
            Description<br><textarea name="desc" cols="60" rows="10" [(ngModel)]="taskForm.desc" [value]="inputDesc"></textarea><br>
            <button type="button" (click)="addTask()">Add</button> -->

            <br><br>
            <table>
                <div *ngFor="let task of getCheckList();">
                    <tr>
                        <td><input type="checkbox" [(ngModel)]="task.status" (ngModelChange)="compTask(task.id)"></td>
                        <div *ngIf="task.status">
                            <td style="color:gray;">{{task.name}}</td>
                        </div>
                        <div *ngIf="!task.status">
                            <td (click)="onSelect(task)" [class.selected]="task === selectedTask">
                                {{task.id}}, {{task.name}}
                                <button type="button" (click)="addTask(task.id)">+</button>
                            </td>
                        </div>
                    </tr>
                    <div *ngIf="task.subTask">
                        <div *ngFor="let subTask of task.subTask;" style="margin-left:20px;">
                            <tr>
                                <td><input type="checkbox" [(ngModel)]="subTask.status" (ngModelChange)="compTask(subTask.id)"></td>
                                <div *ngIf="subTask.status">
                                    <td style="color:gray;">{{subTask.name}}</td>
                                </div>
                                <div *ngIf="!subTask.status">
                                    <td (click)="onSelect(task)" [class.selected]="task === selectedTask">{{subTask.id}}, {{subTask.name}}
                                            <button type="button" (click)="addTask(subTask.id)">+</button>
                                    </td>
                                </div>
                            </tr>
                        </div>
                    </div>
                    
                </div>
            </table>
            <button type="button" (click)="addTask(0)">New Task</button>
        </div>
        <div class="col">
            <!-- <app-add-task></app-add-task> -->
            <div *ngIf="selectedTask">
                <app-task-detail [task]="selectedTask"></app-task-detail>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="taskModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Task Name</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Task Description.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
</div>
